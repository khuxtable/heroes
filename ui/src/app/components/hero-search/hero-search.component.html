<!--
  ~ Copyright 2023 the original author or authors.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License"); you may not
  ~ use this file except in compliance with the License. You may obtain a copy of
  ~ the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  ~ WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing permissions and limitations under
  ~ the License.
  -->
<div id="search-component">
  <label for="search-box">Hero Search</label>
  <input #searchBox id="search-box" pInputText class="p-inputtext-sm"
         [value]="searchTerms$ | async"
         (input)="search(searchBox.value)"
  />
  {{ errMessage$ | async }}

  <ng-container *ngIf="heroes$ | async as heroes">
    <p-listbox [options]="heroes" [(ngModel)]="selectedHero">
      <ng-template let-hero let-i="index" pTemplate="item">
        <a routerLink="/detail/{{hero.id}}">{{ hero.name }}</a>
      </ng-template>
    </p-listbox>
  </ng-container>
</div>
